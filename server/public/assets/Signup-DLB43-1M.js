import{u as b,r as t,b as v,j as e,a as i}from"./index-D1PmyStg.js";import{u as y}from"./index.esm-BIul7JyP.js";/* empty css                  */const w=()=>{const{register:r,handleSubmit:h,watch:f,formState:{errors:s}}=y(),{signup:x}=b(),[d,n]=t.useState(""),[c,m]=t.useState(!1),[a,u]=t.useState("user"),p=v(),j=f("password"),g=async o=>{try{m(!0),n("");const l={...o,role:a,location:{lat:12.9716,lng:77.5946}},{user:N}=await x(l);N.role==="tailor"?p("/tailor-dashboard"):p("/dashboard")}catch(l){n(l.message||"Signup failed. Please try again.")}finally{m(!1)}};return e.jsx("div",{className:"auth-form-container",children:e.jsxs("form",{className:"auth-form",onSubmit:h(g),children:[e.jsx("h2",{children:"Create Your Account"}),d&&e.jsx("div",{className:"form-error",children:d}),e.jsxs("div",{className:"form-group user-type-selector",children:[e.jsx("button",{type:"button",className:`user-type-btn ${a==="user"?"active":""}`,onClick:()=>u("user"),children:"I'm a Customer"}),e.jsx("button",{type:"button",className:`user-type-btn ${a==="tailor"?"active":""}`,onClick:()=>u("tailor"),children:"I'm a Tailor"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"name",className:"form-label",children:"Full Name"}),e.jsx("input",{id:"name",type:"text",className:"form-control",placeholder:"Enter your full name",...r("name",{required:"Name is required",minLength:{value:2,message:"Name must be at least 2 characters"}})}),s.name&&e.jsx("p",{className:"input-error",children:s.name.message})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),e.jsx("input",{id:"email",type:"email",className:"form-control",placeholder:"Enter your email",...r("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),s.email&&e.jsx("p",{className:"input-error",children:s.email.message})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"phone",className:"form-label",children:"Phone Number"}),e.jsx("input",{id:"phone",type:"tel",className:"form-control",placeholder:"Enter your phone number",...r("phone",{required:"Phone number is required",pattern:{value:/^[0-9]{10}$/,message:"Please enter a valid 10-digit phone number"}})}),s.phone&&e.jsx("p",{className:"input-error",children:s.phone.message})]}),a==="user"?e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"address",className:"form-label",children:"Home Address"}),e.jsx("input",{id:"address",type:"text",className:"form-control",placeholder:"Enter your address",...r("address",{required:"Address is required"})}),s.address&&e.jsx("p",{className:"input-error",children:s.address.message})]}):e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"shopAddress",className:"form-label",children:"Shop Address"}),e.jsx("input",{id:"shopAddress",type:"text",className:"form-control",placeholder:"Enter your shop address",...r("shopAddress",{required:"Shop address is required"})}),s.shopAddress&&e.jsx("p",{className:"input-error",children:s.shopAddress.message})]}),a==="tailor"&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"servicesOffered",className:"form-label",children:"Services Offered (comma separated)"}),e.jsx("input",{id:"servicesOffered",type:"text",className:"form-control",placeholder:"e.g., Shirts, Pants, Suits, Alterations",...r("servicesOfferedRaw",{required:"Services offered is required",setValueAs:o=>o.split(",").map(l=>l.trim())})}),s.servicesOfferedRaw&&e.jsx("p",{className:"input-error",children:s.servicesOfferedRaw.message})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),e.jsx("input",{id:"password",type:"password",className:"form-control",placeholder:"Create a password",...r("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}})}),s.password&&e.jsx("p",{className:"input-error",children:s.password.message})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"confirmPassword",className:"form-label",children:"Confirm Password"}),e.jsx("input",{id:"confirmPassword",type:"password",className:"form-control",placeholder:"Confirm your password",...r("confirmPassword",{required:"Please confirm your password",validate:o=>o===j||"Passwords do not match"})}),s.confirmPassword&&e.jsx("p",{className:"input-error",children:s.confirmPassword.message})]}),e.jsxs("div",{className:"form-group form-checkbox",children:[e.jsx("input",{id:"agree",type:"checkbox",...r("agree",{required:"You must agree to the terms"})}),e.jsxs("label",{htmlFor:"agree",children:["I agree to the ",e.jsx(i,{to:"/terms",children:"Terms of Service"})," and"," ",e.jsx(i,{to:"/privacy",children:"Privacy Policy"})]}),s.agree&&e.jsx("p",{className:"input-error",children:s.agree.message})]}),e.jsx("button",{type:"submit",className:"btn btn-primary btn-block",disabled:c,children:c?"Creating Account...":"Create Account"}),e.jsx("div",{className:"auth-links",children:e.jsxs("p",{children:["Already have an account? ",e.jsx(i,{to:"/login",children:"Log In"})]})})]})})},q=()=>e.jsx("div",{className:"auth-page",children:e.jsx("div",{className:"auth-content",children:e.jsx(w,{})})});export{q as default};
