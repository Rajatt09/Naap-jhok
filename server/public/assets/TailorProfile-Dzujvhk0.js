import{c as T,r as l,j as s,L as k,a as c,F as w,d as A,e as S}from"./index-CJV30WCN.js";import{a as F}from"./tailors-DZwWYIGK.js";const B=()=>{const{id:n}=T(),[r,N]=l.useState(null),[v,t]=l.useState(!0),[o,f]=l.useState(null);if(l.useEffect(()=>{(async()=>{try{t(!0);const a=await F(n);N(a)}catch(a){f(a.message||"Failed to load tailor profile")}finally{t(!1)}})()},[n]),v)return s.jsx(k,{});if(o||!r)return s.jsxs("div",{className:"error-container",children:[s.jsx("p",{children:o||"Tailor not found"}),s.jsx(c,{to:"/",className:"btn btn-primary",children:"Back to Home"})]});const{userId:e,shopAddress:g,area:y,location:L,servicesOffered:d,rating:b,reviewCount:u,avatar:h,shopImages:m,priceRange:p,isShopOpen:x,availability:j}=r;return s.jsxs("div",{className:"tailor-profile-page container",children:[s.jsx("div",{className:"back-link",children:s.jsx(c,{to:"/",children:"← Back to Home"})}),s.jsx("div",{className:"profile-header",children:s.jsxs("div",{className:"profile-header-content",children:[s.jsx("div",{className:"tailor-profile-avatar",children:h?s.jsx("img",{src:h,alt:(e==null?void 0:e.name)||"Tailor"}):s.jsx(w,{size:80,color:"#ccc"})}),s.jsxs("div",{className:"tailor-profile-info",children:[s.jsx("h1",{children:(e==null?void 0:e.name)||"Unknown Tailor"}),s.jsxs("div",{className:"tailor-rating-container",children:[s.jsxs("span",{className:"stars",children:[b," ★"]}),s.jsxs("span",{className:"review-count",children:["(",u," reviews)"]}),p&&s.jsx("span",{className:"tailor-price-range",children:p}),s.jsx("span",{className:`shop-status ${x?"open":"closed"}`,children:x?"Open Now":"Closed"})]}),s.jsxs("div",{className:"tailor-location",children:[s.jsx(A,{})," ",s.jsxs("span",{children:[g," ",s.jsx("br",{})," ",y]})]}),s.jsxs("div",{className:"tailor-contact",children:[s.jsx(S,{})," ",s.jsx("span",{children:(e==null?void 0:e.phone)||"N/A"})]}),s.jsx(c,{to:`/order/new?tailorId=${r._id}`,className:"btn btn-primary book-btn",children:"Book Now"})]})]})}),s.jsxs("div",{className:"profile-content",children:[s.jsxs("section",{className:"tailor-services-section",children:[s.jsx("h2",{children:"Services Offered"}),d.length?s.jsx("div",{className:"services-grid",children:d.map((i,a)=>s.jsxs("div",{className:"service-item",children:["✂️ ",i]},a))}):s.jsx("p",{className:"empty-text",children:"No services listed"})]}),s.jsxs("section",{className:"tailor-gallery-section",children:[s.jsx("h2",{children:"Shop Gallery"}),m.length?s.jsx("div",{className:"shop-gallery",children:m.map((i,a)=>s.jsx("div",{className:"gallery-image",children:s.jsx("img",{src:i,alt:`shop image ${a+1}`})},a))}):s.jsx("p",{className:"empty-text",children:"No shop images uploaded"})]}),s.jsxs("section",{className:"tailor-availability-section",children:[s.jsx("h2",{children:"Availability"}),j.length?s.jsx("div",{className:"availability-table",children:j.map((i,a)=>s.jsxs("div",{className:"availability-row",children:[s.jsx("span",{className:"day",children:i.day}),s.jsx("span",{className:"hours",children:i.isOpen?`${i.openTime||"N/A"} - ${i.closeTime||"N/A"}`:"Closed"})]},a))}):s.jsx("p",{className:"empty-text",children:"No availability data provided"})]})]})]})};export{B as default};
